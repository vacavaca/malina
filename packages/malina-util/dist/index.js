"use strict";Object.defineProperty(exports,"__esModule",{value:true});function r(r){return r&&typeof r==="object"&&"default"in r?r["default"]:r}var e=r(require("seedrandom"));const t=(...r)=>{if(r.length===0)return r=>r;if(r.length===1)return r[0];return r.reduce((r,e)=>(...t)=>e(r(...t)))};const n=r=>Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r));const l=(r,e)=>{if(r===e)return true;if(r==null!==(e==null))return false;if(r==null)return true;const t=r.length;if(t!==e.length)return false;for(let n=0;n<t;n++){if(r[n]!==e[n])return false}return true};const u=r=>{for(const e in r)return false;return true};const o=(r,e)=>{if(r===e)return true;if(r==null!==(e==null))return false;if(r==null)return true;if(u(r)!==u(e))return false;var t=true;var n=false;var l=undefined;try{for(var o=Object.getOwnPropertyNames(r)[Symbol.iterator](),s;!(t=(s=o.next()).done);t=true){const t=s.value;if(!(t in e)||r[t]!==e[t])return false}}catch(r){n=true;l=r}finally{try{if(!t&&o.return!=null){o.return()}}finally{if(n){throw l}}}var f=true;var a=false;var i=undefined;try{for(var c=Object.getOwnPropertySymbols(r)[Symbol.iterator](),y;!(f=(y=c.next()).done);f=true){const t=y.value;if(!(t in e)||r[t]!==e[t])return false}}catch(r){a=true;i=r}finally{try{if(!f&&c.return!=null){c.return()}}finally{if(a){throw i}}}var h=true;var d=false;var v=undefined;try{for(var g=Object.getOwnPropertyNames(e)[Symbol.iterator](),p;!(h=(p=g.next()).done);h=true){const e=p.value;if(!(e in r))return false}}catch(r){d=true;v=r}finally{try{if(!h&&g.return!=null){g.return()}}finally{if(d){throw v}}}var b=true;var m=false;var w=undefined;try{for(var x=Object.getOwnPropertySymbols(e)[Symbol.iterator](),O;!(b=(O=x.next()).done);b=true){const e=O.value;if(!(e in r))return false}}catch(r){m=true;w=r}finally{try{if(!b&&x.return!=null){x.return()}}finally{if(m){throw w}}}return true};const s=(r,e)=>{const t=Array.isArray(r);if(t!==Array.isArray(e))return false;return t?l(r,e):o(r,e)};const f=(r,e)=>{const t={};const l={};const u=r.length;let o=0;while(o<u){l[r[o]]=true;o+=1}var s=true;var f=false;var a=undefined;try{for(var i=n(e)[Symbol.iterator](),c;!(s=(c=i.next()).done);s=true){const r=c.value;if(!(r in l))t[r]=e[r]}}catch(r){f=true;a=r}finally{try{if(!s&&i.return!=null){i.return()}}finally{if(f){throw a}}}return t};const a=r=>{const e=[];const t=r.length;let n=0;while(n<t){if(Array.isArray(r[n])){const t=a(r[n]);const l=t.length;let u=0;while(u<l){e[e.length]=t[u];u+=1}}else e[e.length]=r[n];n+=1}return e};const i=(r,e)=>r>e?1:r<e?-1:0;const c=(r,e,t=i)=>{if(e.length>1){let n=0;let l=e.length-1;while(n<=l){const u=n+l>>>1;const o=e[u];const s=t(o,r);if(s<0)n=u+1;else if(s>0)l=u-1;else return u}return-n-1}else if(e.length===1){const n=t(r,e[0]);if(n>0)return-2;else if(n<0)return-1;else return 0}else return-2};const y="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";class h{constructor(r=null){this.rng=r!=null?e(r):Math.random}double(){return this.rng()}id(r){let e="";for(let t=0;t<r;t++)e+=y[Math.round(this.rng()*(y.length-1))];return e}}const d=(r,e)=>r===e;const v=(r,e,t)=>{const n=r.length;if(n!==e.length)return false;for(let l=0;l<n;l++){if(!t(r[l],e[l]))return false}return true};const g=(r,e)=>{let t=null;let n=null;return(...l)=>{if(t===null||!v(t,l,e))n=r(...l);t=l;return n}};const p=(r,e=1,t=d)=>{if(e===1)return g(r,t);if(e===0)return r;let n=[];let l=[];return(...u)=>{for(let r=n.length-1;r>=0;r--){if(v(n[r],u,t))return l[r]}n.push(u);const o=r(...u);l.push(o);if(n.length>e){n.splice(0,1);l.splice(0,1)}return o}};exports.compose=t;exports.keys=n;exports.shallowEqual=s;exports.omit=f;exports.flatten=a;exports.binarySearch=c;exports.Random=h;exports.memoize=p;
