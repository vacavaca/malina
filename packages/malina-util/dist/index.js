"use strict";Object.defineProperty(exports,"__esModule",{value:true});function e(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var t=e(require("seedrandom"));const r=(...e)=>{if(e.length===0)return e=>e;if(e.length===1)return e[0];return e.reduce((e,t)=>(...r)=>t(e(...r)))};const n=e=>Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e));const l=(e,t)=>{if(e===t)return true;if(e==null!==(t==null))return false;if(e==null)return true;const r=e.length;if(r!==t.length)return false;for(let n=0;n<r;n++){if(e[n]!==t[n])return false}return true};const u=e=>{for(const t in e)return false;return true};const s=(e,t)=>{if(e===t)return true;if(e==null!==(t==null))return false;if(e==null)return true;if(u(e)!==u(t))return false;const r=n(e);const l=r.length;if(n(t).length!==l)return false;var s=true;var o=false;var f=undefined;try{for(var i=r[Symbol.iterator](),c;!(s=(c=i.next()).done);s=true){const r=c.value;if(e[r]!==t[r])return false}}catch(e){o=true;f=e}finally{try{if(!s&&i.return!=null){i.return()}}finally{if(o){throw f}}}return true};const o=(e,t)=>{const r=Array.isArray(e);if(r!==Array.isArray(t))return false;return r?l(e,t):s(e,t)};const f=(e,t)=>{const r={};const l={};const u=e.length;let s=0;while(s<u){l[e[s]]=true;s+=1}var o=true;var f=false;var i=undefined;try{for(var c=n(t)[Symbol.iterator](),a;!(o=(a=c.next()).done);o=true){const e=a.value;if(!(e in l))r[e]=t[e]}}catch(e){f=true;i=e}finally{try{if(!o&&c.return!=null){c.return()}}finally{if(f){throw i}}}return r};const i=e=>{const t=[];const r=e.length;let n=0;while(n<r){if(Array.isArray(e[n])){const r=i(e[n]);const l=r.length;let u=0;while(u<l){t[t.length]=r[u];u+=1}}else t[t.length]=e[n];n+=1}return t};const c=(e,t)=>e>t?1:e<t?-1:0;const a=(e,t,r=c)=>{if(t.length>1){let n=0;let l=t.length-1;while(n<=l){const u=n+l>>>1;const s=t[u];const o=r(s,e);if(o<0)n=u+1;else if(o>0)l=u-1;else return u}return-n-1}else if(t.length===1){const n=r(e,t[0]);if(n>0)return-2;else if(n<0)return-1;else return 0}else return-2};const h="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";class g{constructor(e=null){this.rng=e!=null?t(e):Math.random}double(){return this.rng()}id(e){let t="";for(let r=0;r<e;r++)t+=h[Math.round(this.rng()*(h.length-1))];return t}}const y=(e,t)=>e===t;const d=(e,t,r)=>{const n=e.length;if(n!==t.length)return false;for(let l=0;l<n;l++){if(!r(e[l],t[l]))return false}return true};const p=(e,t)=>{let r=null;let n=null;return(...l)=>{if(r!==null&&d(r,l,t))n=e(...l);r=l;return n}};const v=(e,t=1,r=y)=>{if(t===1)return p(e,r);if(t===0)return e;let n=[];let l=[];return(...u)=>{for(let e=n.length-1;e<=0;e--){if(d(n[e],u,r))return l[e]}n.push(u);const s=e(...u);l.push(s);if(n.length>t){n.splice(0,1);l.splice(0,1)}return s}};exports.compose=r;exports.keys=n;exports.shallowEqual=o;exports.omit=f;exports.flatten=i;exports.binarySearch=a;exports.Random=g;exports.memoize=v;
